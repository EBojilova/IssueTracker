<div class="box">
	<!--FILTERS-->

	<div ng-comments-filters></div>

	<h2>Comments:</h2>
	<br/>
	<hr/>


	<div ng-repeat="comment in filtered =( comments|filter:search)">
		<div class="panel panel-success">
			<div class="panel-heading">{{comment.Author.Username}} - {{comment.CreatedOn|date}}</div>
			<div class="panel-body"><p>{{comment.Text}}</p></div>
		</div>
	</div>
</div>

<div class="box" name="commentsForm" ng-if="isProjectLeader||isAssignee">
	<form action="">
		<div class="form-group">
			<label for="comment-field">Leave comment:</label>
						<textarea ng-model="newComment.text" class="form-control" id="comment-field" ng-minlength="2"
						          ng-maxlength="1000" placeholder="Type text here..." required
						          name="message"></textarea>
						<span ng-show="commentsForm.message.$error.required" class="err"><span
								class="snowflake">*</span>Required</span>
						<span ng-show="commentsForm.message.$error.minlength" class="err"><span
								class="snowflake">*</span>Minimum 2 characters</span>
						<span ng-show="commentsForm.message.$error.maxlength" class="err"><span
								class="snowflake">*</span>Maximum 1000 characters</span>
		</div>

		<button ng-disabled="commentsForm.$invalid" class="btn btn-primary"
		        ng-click="addComment(newComment)">Add New Comment
		</button>

	</form>
</div>








